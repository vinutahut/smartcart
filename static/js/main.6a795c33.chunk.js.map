{"version":3,"sources":["firebaseConfig.js","components/CameraView.js","components/Cart.js","pages/Home.js","components/SignIn.js","pages/SignInPage.js","components/SignUp.js","pages/SignUpPage.js","pages/ThankYou.js","App.js","reportWebVitals.js","index.js"],"names":["appInventory","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","dbInventory","getAuth","getFirestore","appOrders","dbOrders","authOrders","CameraView","_ref","updateCart","videoRef","useRef","streaming","setStreaming","useState","useEffect","async","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","play","error","console","startVideo","interval","setInterval","canvas","document","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","dataURL","toDataURL","axios","post","image","headers","data","predictions","detectedObject","validProducts","Promise","all","map","q","query","collection","where","obj","class","querySnapshot","getDocs","empty","warn","concat","docs","filter","product","log","message","clearInterval","React","ref","style","Cart","items","totalPrice","className","length","item","index","key","price","productNumber","quantity","toFixed","Home","navigate","useNavigate","cartItems","setCartItems","setTotalPrice","display","flex","onClick","signOut","detectedObjects","itemCounts","reduce","acc","itemArray","Object","values","sum","user","currentUser","orderRef","orderDoc","addDoc","userEmail","email","totalAmount","timestamp","Date","id","SignInPage","setEmail","password","setPassword","onSubmit","e","preventDefault","signInWithEmailAndPassword","type","placeholder","value","onChange","target","required","Link","to","SignIn","SignUpPage","createUserWithEmailAndPassword","SignUp","ThankYou","orderId","useParams","orderDetails","setOrderDetails","getDoc","doc","exists","fetchOrderDetails","Fragment","QRCode","handleHome","App","loading","useAuthState","Router","Routes","Route","path","element","Navigate","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.6a795c33.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\n\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfigInventory = {\r\n  apiKey: \"AIzaSyAb8R9GWFTKyffqyVbCEBMHsq4I-doBn7Y\",\r\n  authDomain: \"smart-cart-sign-up.firebaseapp.com\",\r\n  projectId: \"smart-cart-sign-up\",\r\n  storageBucket: \"smart-cart-sign-up.appspot.com\",\r\n  messagingSenderId: \"411064186344\",\r\n  appId: \"1:411064186344:web:4193c9acb9f9ab78b7e05d\",\r\n  measurementId: \"G-FDJD5J5M5Y\"\r\n};\r\n\r\n// Initialize Firebase\r\n// const appInventory = initializeApp(firebaseConfigInventory);\r\nconst appInventory = initializeApp(firebaseConfigInventory, \"inventoryApp\");\r\n\r\n// const analytics = getAnalytics(app);\r\nexport const authInventory = getAuth(appInventory);\r\n// Export Firestore instance\r\nexport const dbInventory = getFirestore(appInventory);\r\n\r\n// second firebase db for sign in and users data\r\n\r\nconst firebaseConfigOrders = {\r\n  apiKey: \"AIzaSyBPI5gNtHZUesmXe0C4J_fBs7P_n4zZgv4\",\r\n  authDomain: \"smart-cart-orders.firebaseapp.com\",\r\n  projectId: \"smart-cart-orders\",\r\n  storageBucket: \"smart-cart-orders.appspot.com\",\r\n  messagingSenderId: \"1087581861652\",\r\n  appId: \"1:1087581861652:web:ae1900dd655944f4613401\",\r\n  measurementId: \"G-B6B11EQT8P\"\r\n\r\n};\r\n\r\nconst appOrders = initializeApp(firebaseConfigOrders, \"ordersApp\");\r\nconst dbOrders = getFirestore(appOrders);\r\nconst authOrders = getAuth(appOrders);\r\n\r\nexport { dbOrders, authOrders };\r\n\r\n\r\n","// import React, { useEffect, useRef, useState } from 'react';\r\n// import axios from 'axios';\r\n\r\n// const CameraView = ({ updateCart }) => {\r\n//   const videoRef = useRef(null);\r\n//   const [streaming, setStreaming] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     const startVideo = async () => {\r\n//       try {\r\n//         const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n//         videoRef.current.srcObject = stream;\r\n//         videoRef.current.play();\r\n//         setStreaming(true);\r\n//       } catch (error) {\r\n//         console.error('Error accessing webcam:', error);\r\n//       }\r\n//     };\r\n\r\n//     startVideo();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!streaming) return;\r\n\r\n//     const interval = setInterval(async () => {\r\n//       const canvas = document.createElement('canvas');\r\n//       canvas.width = videoRef.current.videoWidth;\r\n//       canvas.height = videoRef.current.videoHeight;\r\n//       const context = canvas.getContext('2d');\r\n//       context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n\r\n//       const dataURL = canvas.toDataURL('image/jpeg');\r\n\r\n//       try {\r\n//         const response = await axios.post('/api/detect', { image: dataURL }, {\r\n//           headers: {\r\n//             'Content-Type': 'application/json',\r\n//           },\r\n//         });\r\n//         const detectedObjects = response.data.predictions;\r\n//         updateCart(detectedObjects);\r\n//         console.log('Detected objects:', response.data);\r\n//       } catch (error) {\r\n//         console.error('Error detecting objects:', error.message);\r\n//       }\r\n//     }, 5000);\r\n\r\n//     return () => clearInterval(interval);\r\n//   }, [streaming]);\r\n\r\n//   return (\r\n//     <div>\r\n//       <video ref={videoRef} style={{ width: '100%' }} />\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default CameraView;\r\n\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { dbInventory } from '../firebaseConfig'; // Assuming you have initialized Firebase Firestore\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\n\r\n\r\nconst CameraView = ({ updateCart }) => {\r\n  const videoRef = useRef(null);\r\n  const [streaming, setStreaming] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const startVideo = async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        videoRef.current.srcObject = stream;\r\n        videoRef.current.play();\r\n        setStreaming(true);\r\n      } catch (error) {\r\n        console.error('Error accessing webcam:', error);\r\n      }\r\n    };\r\n\r\n    startVideo();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!streaming) return;\r\n\r\n    const interval = setInterval(async () => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = videoRef.current.videoWidth;\r\n      canvas.height = videoRef.current.videoHeight;\r\n      const context = canvas.getContext('2d');\r\n      context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n\r\n      const dataURL = canvas.toDataURL('image/jpeg');\r\n\r\n      try {\r\n        const response = await axios.post('/api/detect', { image: dataURL }, {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n        const detectedObjects = response.data.predictions;\r\n        \r\n        // this is demo prediction\r\n        const detectedObject = [\r\n          {\r\n              \"x\": 320.5,\r\n              \"y\": 246.5,\r\n              \"width\": 631,\r\n              \"height\": 467,\r\n              \"confidence\": 0.43707746267318726,\r\n              \"class\": \"kissan-tomatoketchup-200\",\r\n              \"class_id\": 136,\r\n              \"detection_id\": \"496f170b-26dc-413a-9f17-d76ce0375f58\"\r\n          },\r\n          {\r\n            \"x\": 320.5,\r\n            \"y\": 246.5,\r\n            \"width\": 631,\r\n            \"height\": 467,\r\n            \"confidence\": 0.43707746267318726,\r\n            \"class\": \"lemon\",\r\n            \"class_id\": 136,\r\n            \"detection_id\": \"496f170b-26dc-413a-9f17-d76ce0375f58\"\r\n        },\r\n        {\r\n          \"x\": 320.5,\r\n          \"y\": 246.5,\r\n          \"width\": 631,\r\n          \"height\": 467,\r\n          \"confidence\": 0.43707746267318726,\r\n          \"class\": \"lemon\",\r\n          \"class_id\": 136,\r\n          \"detection_id\": \"496f170b-26dc-413a-9f17-d76ce0375f58\"\r\n      }\r\n      ];\r\n\r\n        // Fetch product details from Firestore for each detected object\r\n        const productsWithDetails = await Promise.all(\r\n          detectedObject.map(async (obj) => {\r\n            try {\r\n              const q = query(collection(dbInventory, \"products\"), where(\"class\", \"==\", obj.class));\r\n\r\n              const querySnapshot = await getDocs(q);\r\n              // const productsRef = collection(db, \"products\")\r\n              // const querySnapshot = await productsRef\r\n              //   .where('class', '==', obj.class) // Match based on prediction class value\r\n              //   // .where('name', '==', obj.name) // Alternatively, match based on product name\r\n              //   .get();\r\n\r\n              if (!querySnapshot.empty) {\r\n                // Assuming only one product matches each classValue\r\n                const product = querySnapshot.docs[0].data();\r\n                return product;\r\n              } else {\r\n                console.warn(`Product matching class value ${obj.class} not found in Firestore`);\r\n                return null;\r\n              }\r\n            } catch (error) {\r\n              console.error(`Error fetching product details for class ${obj.class}:`, error);\r\n              return null;\r\n            }\r\n          })\r\n        );\r\n\r\n        // Filter out null entries (failed Firestore fetches)\r\n        const validProducts = productsWithDetails.filter((product) => product !== null);\r\n\r\n        updateCart(validProducts);\r\n        console.log('Detected objects with details:', validProducts);\r\n      } catch (error) {\r\n        console.error('Error detecting objects:', error.message);\r\n      }\r\n    }, 10000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [streaming]);\r\n\r\n  return (\r\n    <div>\r\n      <video ref={videoRef} style={{ width: '100%' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraView;\r\n","import React from 'react';\r\nimport './Cart.scss';\r\n\r\nconst Cart = ({ items, totalPrice }) => {\r\n  return (\r\n    <div className=\"cart\">\r\n      <h2>Shopping Cart</h2>\r\n      {items.length > 0 ? (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Product</th>\r\n              <th>Price</th>\r\n              <th>Product Number</th>\r\n              <th>Quantity</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {items.map((item, index) => (\r\n              <tr key={index}>\r\n                <td>{item.class}</td>\r\n                <td>${item.price}</td>\r\n                <td>{item.productNumber}</td>\r\n                <td>{item.quantity}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        \r\n      ) : (\r\n        <p>Your cart is empty.</p>\r\n      )}\r\n      <div className=\"total-price\">\r\n        <h3>Total Price: ${totalPrice.toFixed(2)}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","// import React, { useState } from 'react';\r\n// import CameraView from '../components/CameraView';\r\n// import Cart from '../components/Cart';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { signOut } from 'firebase/auth';\r\n// import { auth } from '../firebaseConfig';\r\n// import QRCode from 'qrcode.react';\r\n// import './Home.scss';\r\n\r\n// const Home = () => {\r\n//   const navigate = useNavigate();\r\n//   const [cartItems, setCartItems] = useState([]);\r\n//   const [showQRCode, setShowQRCode] = useState(false);\r\n\r\n\r\n//   const handleSignOut = async () => {\r\n//     try {\r\n//       await signOut(auth);\r\n//       navigate('/signin');\r\n//     } catch (error) {\r\n//       console.error('Error signing out:', error);\r\n//     }\r\n//   };\r\n\r\n\r\n//   const updateCart = (detectedObjects) => {\r\n//     const itemCounts = detectedObjects.reduce((acc, obj) => {\r\n//       const key = obj.class;\r\n//       if (!acc[key]) {\r\n//         acc[key] = { ...obj, quantity: 0 };\r\n//       }\r\n//       acc[key].quantity += 1;\r\n//       return acc;\r\n//     }, {});\r\n\r\n//     setCartItems(Object.values(itemCounts));\r\n//   };\r\n\r\n//   const handlePayNow = () => {\r\n//     setShowQRCode(true);\r\n//   };\r\n\r\n//   const calculateTotalPrice = () => {\r\n//     return cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n//   };\r\n\r\n//   const totalPrice = calculateTotalPrice();\r\n//   const qrCodeValue = `upi://pay?pa=hutagikarvinuta@okhdfcbank&pn=Vinuta Hutagikar&am=${totalPrice}&cu=INR`;\r\n\r\n\r\n\r\n//   return (\r\n//     <div className=\"home\">\r\n//       <h1>Welcome to the Smart Cart App!</h1>\r\n//       <button onClick={handleSignOut}>Log Out</button>\r\n//       <div className=\"content\">\r\n//         <CameraView updateCart={updateCart} />\r\n//         <Cart items={cartItems} />\r\n//       </div>\r\n//       <button className=\"pay-now-button\" onClick={handlePayNow}>Pay Now</button>\r\n//       {showQRCode && (\r\n//         <div className=\"qr-code\">\r\n//           <QRCode value={qrCodeValue} />\r\n//           <p>Total Price: â‚¹{totalPrice}</p>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n      \r\n\r\n// export default Home;\r\n\r\n\r\nimport React, { useState } from 'react';\r\nimport CameraView from '../components/CameraView';\r\nimport Cart from '../components/Cart';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { signOut } from 'firebase/auth';\r\nimport { authOrders, dbOrders } from '../firebaseConfig';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport './Home.scss';\r\n\r\nconst Home = () => {\r\n  const navigate = useNavigate();\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await signOut(authOrders);\r\n      navigate('/signin');\r\n    } catch (error) {\r\n      console.error('Error signing out:', error);\r\n    }\r\n  };\r\n\r\n  const updateCart = (detectedObjects) => {\r\n    const itemCounts = detectedObjects.reduce((acc, obj) => {\r\n            const key = obj.class;\r\n            if (!acc[key]) {\r\n              acc[key] = { ...obj, quantity: 0 };\r\n            }\r\n            acc[key].quantity += 1;\r\n            return acc;\r\n          }, {});\r\n        const itemArray = Object.values(itemCounts);\r\n\r\n        const totalPrice = itemArray.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n\r\n    setTotalPrice(totalPrice);\r\n    setCartItems(itemArray);\r\n    // setTotalPrice(itemCounts.reduce((sum, item) => sum + item.price * item.quantity, 0));\r\n\r\n    // setCartItems(Object.values(itemCounts));\r\n    // setTotalPrice(calculateTotalPrice())\r\n    // setCartItems((prevItems) => {\r\n    //   const updatedItems = [...prevItems];\r\n    //   detectedObjects.forEach((newItem) => {\r\n    //     const existingItemIndex = updatedItems.findIndex(item => item.class === newItem.class);\r\n    //     if (existingItemIndex !== -1) {\r\n    //       updatedItems[existingItemIndex].quantity += 1;\r\n    //     } else {\r\n    //       updatedItems.push({ ...newItem, quantity: 1 });\r\n    //     }\r\n    //   });\r\n    //   setTotalPrice(updatedItems.reduce((sum, item) => sum + item.price * item.quantity, 0));\r\n    //   return updatedItems;\r\n    // });\r\n  };\r\n\r\n  const handlePayNow = async () => {\r\n    try {\r\n      const user = authOrders.currentUser;\r\n\r\n      // Store user data and cart items in Firestore\r\n      const orderRef = collection(dbOrders, 'orders');\r\n      const orderDoc = await addDoc(orderRef, {\r\n        userEmail: user.email,\r\n        items: cartItems,\r\n        totalAmount: totalPrice,\r\n        timestamp: new Date(),\r\n      });\r\n\r\n      // Redirect to thank you page with order ID\r\n      navigate(`/thankyou/${orderDoc.id}`);\r\n    } catch (error) {\r\n      console.error('Error during payment:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\" style={{ display: 'flex' }}>\r\n      <div style={{ flex: 1 }}>\r\n        <h1>Welcome to the Smart Cart App!</h1>\r\n        <button onClick={handleSignOut}>Log Out</button>\r\n        <CameraView updateCart={updateCart} />\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <Cart items={cartItems} totalPrice={totalPrice} />\r\n        <button onClick={handlePayNow}>Pay Now</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { authOrders } from '../firebaseConfig';\r\nimport './SignIn.scss';\r\n\r\nconst SignInPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSignIn = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await signInWithEmailAndPassword(authOrders, email, password);\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.error('Error signing in:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signin-container\">\r\n      <form onSubmit={handleSignIn}>\r\n        <h2>Sign In</h2>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\">Sign In</button>\r\n      </form>\r\n      <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInPage;\r\n","import React from 'react';\r\nimport SignIn from '../components/SignIn';\r\nimport './SignInPage.scss';\r\n\r\nconst SignInPage = () => (\r\n  <div className=\"sign-in-page\">\r\n    <SignIn />\r\n  </div>\r\n);\r\n\r\nexport default SignInPage;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { authOrders } from '../firebaseConfig';\r\nimport './SignUp.scss';\r\n\r\nconst SignUpPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSignUp = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await createUserWithEmailAndPassword(authOrders, email, password);\r\n      navigate('/signin');\r\n    } catch (error) {\r\n      console.error('Error signing up:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <form onSubmit={handleSignUp}>\r\n        <h2>Sign Up</h2>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        <button type=\"submit\">Sign Up</button>\r\n      </form>\r\n      <p>Have an account? <Link to=\"/signin\">Sign In</Link></p>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","import React from 'react';\r\nimport SignUp from '../components/SignUp';\r\nimport './SignUpPage.scss';\r\n\r\nconst SignUpPage = () => (\r\n  <div className=\"sign-up-page\">\r\n    <SignUp />\r\n  </div>\r\n);\r\n\r\nexport default SignUpPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { dbOrders } from '../firebaseConfig';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport QRCode from 'qrcode.react';\r\nimport './ThankYou.scss';\r\n\r\nconst ThankYou = () => {\r\n  const { orderId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [orderDetails, setOrderDetails] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchOrderDetails = async () => {\r\n      const orderDoc = await getDoc(doc(dbOrders, 'orders', orderId));\r\n      if (orderDoc.exists()) {\r\n        setOrderDetails(orderDoc.data());\r\n      } else {\r\n        console.error('No such order!');\r\n      }\r\n    };\r\n\r\n    fetchOrderDetails();\r\n  }, [orderId]);\r\n\r\n  const handleHome = () => {\r\n    navigate('/home');\r\n  };\r\n\r\n  return (\r\n    <div className=\"thank-you\">\r\n      <h1>Thank You for Your Purchase!</h1>\r\n      {orderDetails && (\r\n        <>\r\n          <div className=\"order-details\">\r\n            <h2>Order Details</h2>\r\n            <ul>\r\n              {orderDetails.items.map((item, index) => (\r\n                <li key={index}>\r\n                  {item.class} - ${item.price} x {item.quantity}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <p>Total Amount: ${orderDetails.totalAmount}</p>\r\n          </div>\r\n          <div className=\"qr-code\">\r\n            <h2>Scan to Pay  ${orderDetails.totalAmount}</h2>\r\n            <QRCode value={`upi://pay?pa=hutagikarvinuta@okhdfcbank&pn=Vinut Hutagikar&am=${orderDetails.totalAmount}&cu=INR`} />\r\n          </div>\r\n        </>\r\n      )}\r\n      <button onClick={handleHome}>Go to Home</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThankYou;\r\n","import React from 'react';\nimport { BrowserRouter as Router,Routes, Route, Navigate } from 'react-router-dom';\nimport Home from './pages/Home';\nimport SignInPage from './pages/SignInPage';\nimport SignUpPage from './pages/SignUpPage';\nimport './App.scss';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { authOrders } from './firebaseConfig';\nimport ThankYou from './pages/ThankYou';\n\n\nfunction App() {\n  const [user, loading, error] = useAuthState(authOrders);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error.message}</div>;\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/signin\" element={<SignInPage />} />\n        <Route path=\"/signup\" element={<SignUpPage />} />\n        <Route path=\"/thankyou/:orderId\" element={<ThankYou />} />\n        <Route\n          path=\"/\"\n          element={user ? <Home /> : <Navigate to=\"/signin\" />}\n        />\n        <Route path=\"*\" element={<Navigate to=\"/signin\" />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}